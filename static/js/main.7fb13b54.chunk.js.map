{"version":3,"sources":["media/beep.mp3","App.js","index.js"],"names":["TimeLeft","props","minLeft","secLeft","Math","floor","timeLeft","toLocaleString","minimumIntegerDigits","useGrouping","id","App","useState","breakLength","setBreakLength","sessionLength","setSessionLength","sessionStatus","setSessionStatus","INIT_SESS","setTimeLeft","timerRunning","setTimerRunning","increaseLength","length","decreaseLength","tweakLength","action","newLength","beepSoundRef","useRef","beepPlay","beepPause","beepPlayer","current","currentTime","play","beepPauser","pause","useEffect","clocktimer","setInterval","newSessionStatus","clearInterval","className","onClick","ref","crossOrigin","preload","src","BEEP_SRC","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7fb13b54.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/beep.3e8c5594.mp3\";","import {useRef, useState, useEffect} from \"react\";\r\nimport \"./App.css\";\r\nimport BEEP_SRC from \"../src/media/beep.mp3\";\r\n\r\nconst INIT_BREAK = 5;\r\nconst INIT_SESS = 25;\r\nconst INIT_TIME_LEFT = INIT_SESS * 60;\r\n\r\nfunction TimeLeft(props) {\r\n  let minLeft, secLeft;\r\n  minLeft = (Math.floor(props.timeLeft / 60)).toLocaleString([], {\r\n    minimumIntegerDigits: 2,\r\n    useGrouping: false\r\n  });\r\n  secLeft = (props.timeLeft % 60).toLocaleString([], {\r\n    minimumIntegerDigits: 2,\r\n    useGrouping: false\r\n  });\r\n\r\n  return (\r\n    <div id=\"time-left\">\r\n      {`${minLeft}:${secLeft}`}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction App() {\r\n  const [breakLength, setBreakLength] = useState(INIT_BREAK);\r\n  const [sessionLength, setSessionLength] = useState(INIT_SESS);\r\n  const [sessionStatus, setSessionStatus] = useState(\"Session\");\r\n  const [timeLeft, setTimeLeft] = useState(INIT_TIME_LEFT);\r\n  const [timerRunning, setTimerRunning] = useState(false);\r\n\r\n  const increaseLength = length => {\r\n    return length > 59 ? length : length + 1;\r\n  }\r\n  const decreaseLength = length => {\r\n    return length < 2 ? length: length - 1;\r\n  }\r\n  const tweakLength = (action, length) => {\r\n    if (timerRunning) {return};\r\n    let newLength;\r\n    switch (action) {\r\n      case \"BREAK_INC\":\r\n        newLength = increaseLength(length);\r\n        setBreakLength(newLength);\r\n        if (sessionStatus === \"Break\") {\r\n          setTimeLeft(newLength * 60);\r\n        }\r\n        break;\r\n      case \"BREAK_DEC\":\r\n        newLength = decreaseLength(length);\r\n        setBreakLength(newLength);\r\n        if (sessionStatus === \"Break\") {\r\n          setTimeLeft(newLength * 60);\r\n        }\r\n        break;\r\n      case \"SESS_INC\":\r\n        newLength = increaseLength(length);\r\n        setSessionLength(newLength);\r\n        if (sessionStatus === \"Session\") {\r\n          setTimeLeft(newLength * 60);\r\n        }\r\n        break;\r\n      case \"SESS_DEC\":\r\n        newLength = decreaseLength(length);\r\n        setSessionLength(newLength);\r\n        if (sessionStatus === \"Session\") {\r\n          setTimeLeft(newLength * 60);\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  \r\n  const beepSoundRef = useRef();\r\n  const beepPlay = useRef();\r\n  const beepPause = useRef();\r\n\r\n  function beepPlayer() {\r\n    beepSoundRef.current.currentTime = 0;\r\n    beepSoundRef.current.play();\r\n  }\r\n  function beepPauser() {\r\n    beepSoundRef.current.pause();\r\n    beepSoundRef.current.currentTime = 0;\r\n  }\r\n  useEffect(() => {\r\n    beepPlay.current = beepPlayer;\r\n    beepPause.current = beepPauser;\r\n  })\r\n\r\n  const toggleTimer = () => {\r\n    setTimerRunning(!timerRunning);\r\n  }\r\n  function resetTimer() {\r\n    setTimerRunning(false);\r\n    setBreakLength(INIT_BREAK);\r\n    setSessionLength(INIT_SESS);\r\n    setSessionStatus(\"Session\");\r\n    setTimeLeft(INIT_TIME_LEFT);\r\n    beepPause.current();\r\n  }\r\n\r\n  useEffect(() => {\r\n    let clocktimer = null;\r\n    if (timerRunning) {\r\n      clocktimer = setInterval(\r\n        () => {\r\n          setTimeLeft(timeLeft - 1);\r\n          // to pass fcc test which is resetting so quickly from zero  \r\n          // that the sound play function below can't be invoked in time\r\n          if (timeLeft === 1) {\r\n            beepPlay.current(); \r\n          }\r\n          if (timeLeft === 0) {\r\n            beepPlay.current();\r\n            const newSessionStatus = sessionStatus === \"Session\" ? \"Break\" : \"Session\";\r\n            setSessionStatus(newSessionStatus);\r\n            setTimeLeft(newSessionStatus === \"Session\" ? sessionLength * 60 : breakLength * 60);\r\n          }\r\n        }, 1000\r\n      );\r\n    } else {\r\n      clearInterval(clocktimer);\r\n    }\r\n    return () => {clearInterval(clocktimer)};\r\n  });\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div id=\"top-controls\">\r\n        <div id=\"break-controls\">\r\n          <div id=\"break-label\">\r\n            Break Length: <span id=\"break-length\">{breakLength}</span>\r\n          </div>\r\n          <button id=\"break-increment\" onClick={() => tweakLength(\"BREAK_INC\", breakLength)}>+</button>\r\n          <button id=\"break-decrement\" onClick={() => tweakLength(\"BREAK_DEC\", breakLength)}>-</button>\r\n        </div>\r\n        <div id=\"session-controls\">\r\n          <div id=\"session-label\">\r\n            Session Length: <span id=\"session-length\">{sessionLength}</span>\r\n          </div>\r\n          <button id=\"session-increment\" onClick={() => tweakLength(\"SESS_INC\", sessionLength)}>+</button>\r\n          <button id=\"session-decrement\" onClick={() => tweakLength(\"SESS_DEC\", sessionLength)}>-</button>\r\n        </div>\r\n      </div>\r\n      <div id=\"timer-label\">\r\n        {sessionStatus} \r\n      </div>\r\n      <TimeLeft timeLeft={timeLeft} />\r\n      <button className=\"timer-button\" id=\"start_stop\" onClick={toggleTimer}>Start/Stop</button>\r\n      <button className=\"timer-button\" id=\"reset\" onClick={resetTimer}>Reset Timer</button>\r\n      <audio id=\"beep\" ref={beepSoundRef} crossOrigin=\"anonymous\" preload=\"auto\">\r\n        <source src={BEEP_SRC}></source>\r\n      </audio>\r\n      <div id=\"footer\">\r\n        made by <a href=\"https://github.com/eastraining/fcc-25-5-clock-FEL\">eastraining</a> <br></br>\r\n        <a href=\"https://soundbible.com/529-Pager-Beeps.html\">beep sound by Mike Koenig</a>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}